const toggleResponsiveMenu=(toggleButtonSelector,menuContainerSelector)=>{const toggleButton=document.querySelector(toggleButtonSelector);const menuContainer=document.querySelector(menuContainerSelector);if(toggleButton&&menuContainer){toggleButton.addEventListener("click",()=>{menuContainer.classList.toggle("show")})}};toggleResponsiveMenu("#menu-bars","#uiu-global-nav .menu");toggleResponsiveMenu(".responsive-btn","#uiu-departmental-nav .menu");const searchBtn=document.getElementById("seacrh");const searchForm=document.querySelector(".search-form");if(searchBtn&&searchForm){searchBtn.addEventListener("click",()=>{searchForm.classList.toggle("mobile-search")})}
const menuHasChildren=document.querySelectorAll("#navbar .menu > .menu-item-has-children");function viewSubMenuPC(menuItems){menuItems.forEach((item)=>{const mouseOverHandler=()=>item.classList.add("active");item.addEventListener("mouseover",mouseOverHandler);const mouseLeaveHandler=()=>item.classList.remove("active");item.addEventListener("mouseleave",mouseLeaveHandler);item.mouseOverHandler=mouseOverHandler;item.mouseLeaveHandler=mouseLeaveHandler})}
function viewSubMenuMobile(menuItems){menuItems.forEach((item)=>{const menuItemLink=item.querySelector("a");menuItemLink.addEventListener("click",(event)=>{event.preventDefault()});const clickHandler=()=>{item.classList.toggle("active")};item.addEventListener("click",clickHandler);item.clickHandler=clickHandler})}
function removeEventListeners(menuItems){menuItems.forEach((item)=>{if(item.mouseOverHandler&&item.mouseLeaveHandler){item.removeEventListener("mouseover",item.mouseOverHandler);item.removeEventListener("mouseleave",item.mouseLeaveHandler)}
if(item.clickHandler){item.removeEventListener("click",item.clickHandler)}})}
function toggleMenuBasedOnWidth(){const breakpoint=1100;removeEventListeners(menuHasChildren);if(window.innerWidth<=breakpoint){viewSubMenuMobile(menuHasChildren)}else{viewSubMenuPC(menuHasChildren)}}
toggleMenuBasedOnWidth();window.addEventListener("resize",toggleMenuBasedOnWidth)